<div ng-controller="SongPopupController as vm">



    <!-- <md-card>
            <md-card-header>
              <md-card-avatar>
                <img class="md-user-avatar" ng-src="{{vm.currentTrack.artistWithInfo[0].images[1].url}}">
              </md-card-avatar>
              <md-card-header-text>
                <span class="md-title">{{vm.currentTrack.trackWithInfo[0].name}}</span>
                <span class="md-subhead">Sub header</span>
              </md-card-header-text>
            </md-card-header>
            <img ng-src="{{vm.currentTrack.trackWithInfo[0].album.images[1].url}}" class="md-card-image" alt="image caption">
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Card headline</span>
                <span class="md-subhead">Card subheader</span>
              </md-card-title-text>
            </md-card-title>
            <md-card-actions layout="row" layout-align="start center">
              <md-button>Action 1</md-button>
              <md-button>Action 2</md-button>
              <md-card-icon-actions>
                <md-button class="md-icon-button" aria-label="icon">
                  <md-icon md-svg-icon="icon"></md-icon>
                </md-button>
              </md-card-icon-actions>
            </md-card-actions>
            <md-card-content>
              <p>
               Card content
              </p>
            </md-card-content>
          </md-card> -->


    <div layout="column">
        <md-card layout="row">
            <md-card-title layout="column">
                <md-card-header>

                    <md-card-avatar>
                        <img class="md-user-avatar" ng-src="{{vm.currentTrack.artistWithInfo[0].images[1].url}}">
                    </md-card-avatar>

                    <md-card-title-text>
                        <span class="md-headline"></span>
                        <span class="md-headline">{{vm.currentTrack.trackWithInfo[0].name}}</span>
                        <span class="md-subhead">{{vm.currentTrack.artistWithInfo[0].name}}</span>
                    </md-card-title-text>



                </md-card-header>
                <md-card-content>
                    <p>
                        {{vm.currentTrack.trackWithInfo[0].duration_ms | date:'mm:ss'}}
                    </p>
                    <p>
                        {{vm.currentTrack.trackWithInfo[0].album.name}}
                    </p>
                </md-card-content>
                <md-card-footer layout="row" layout-align="center center">
                        <md-button ng-click="vm.addTrack(vm.currentTrack.trackWithInfo[0])">
                            <i class="material-icons">
                                add
                            </i>
                        </md-button>
            
                        <md-menu>
                            <md-button ng-click="vm.showPlaylists($mdMenu, $event)">
                                <i class="material-icons">
                                    playlist_add
                                </i>
                            </md-button>
                            <md-menu-content>
                                <md-menu-item ng-repeat="playlist in vm.playlists.list">
                                    <md-button ng-click="vm.addTrackToPlaylist(vm.currentTrack.trackWithInfo[0], playlist.id)">
                                        {{playlist.title | uppercase}}
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                    </md-card-footer>
                
            </md-card-title>

            <md-card-title-media layout="row" layout-align="end center">
                <iframe ng-src="{{vm.trustSrc(vm.embedUri.uri[0])}}" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
            </md-card-title-media>
            

        </md-card>
    </div>



</div>